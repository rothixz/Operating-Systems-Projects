<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>SOFS15: sofs_basicoper.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SOFS15
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">FUSE based file system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sofs__basicoper_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sofs_basicoper.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Set of operations to manage the file system internal data structures.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="sofs__superblock_8h_source.html">sofs_superblock.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sofs__inode_8h_source.html">sofs_inode.h</a>&quot;</code><br/>
</div>
<p><a href="sofs__basicoper_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7e613ec9f4d5b4801af7e6be904c1340"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a7e613ec9f4d5b4801af7e6be904c1340">soLoadSuperBlock</a> (void)</td></tr>
<tr class="memdesc:a7e613ec9f4d5b4801af7e6be904c1340"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the contents of the superblock into internal storage.  <a href="#a7e613ec9f4d5b4801af7e6be904c1340">More...</a><br/></td></tr>
<tr class="separator:a7e613ec9f4d5b4801af7e6be904c1340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7320bc9b9c9d04d6f4d85db6d4996cab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sofs__superblock_8h.html#ab3d7af66934f6eb4e2f28e2918b88133">SOSuperBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a7320bc9b9c9d04d6f4d85db6d4996cab">soGetSuperBlock</a> (void)</td></tr>
<tr class="memdesc:a7320bc9b9c9d04d6f4d85db6d4996cab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the contents of the superblock.  <a href="#a7320bc9b9c9d04d6f4d85db6d4996cab">More...</a><br/></td></tr>
<tr class="separator:a7320bc9b9c9d04d6f4d85db6d4996cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044b2668a2f9e248e8fc862d7b0457fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a044b2668a2f9e248e8fc862d7b0457fe">soStoreSuperBlock</a> (void)</td></tr>
<tr class="memdesc:a044b2668a2f9e248e8fc862d7b0457fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the contents of the superblock resident in internal storage to the storage device.  <a href="#a044b2668a2f9e248e8fc862d7b0457fe">More...</a><br/></td></tr>
<tr class="separator:a044b2668a2f9e248e8fc862d7b0457fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce723e8bbbdf5c3c0216765506cb3a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#abce723e8bbbdf5c3c0216765506cb3a1">soConvertRefInT</a> (uint32_t nInode, uint32_t *p_nBlk, uint32_t *p_offset)</td></tr>
<tr class="memdesc:abce723e8bbbdf5c3c0216765506cb3a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the inode number, which translates to an entry of the inode table, into the logical number (the ordinal, starting at zero, of the succession blocks that the table of inodes comprises) and the offset of the block where it is stored.  <a href="#abce723e8bbbdf5c3c0216765506cb3a1">More...</a><br/></td></tr>
<tr class="separator:abce723e8bbbdf5c3c0216765506cb3a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed949877fd01cf5297fdded33491ae6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#aed949877fd01cf5297fdded33491ae6f">soLoadBlockInT</a> (uint32_t nBlk)</td></tr>
<tr class="memdesc:aed949877fd01cf5297fdded33491ae6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the contents of a specific block of the table of inodes into internal storage.  <a href="#aed949877fd01cf5297fdded33491ae6f">More...</a><br/></td></tr>
<tr class="separator:aed949877fd01cf5297fdded33491ae6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe7c6b40fbc3eebd3b29df8b2f3f25e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sofs__inode_8h.html#ac75a291739fb635e97b7928ceb4fba6a">SOInode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#afe7c6b40fbc3eebd3b29df8b2f3f25e0">soGetBlockInT</a> (void)</td></tr>
<tr class="memdesc:afe7c6b40fbc3eebd3b29df8b2f3f25e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the contents of a specific block of the table of inodes.  <a href="#afe7c6b40fbc3eebd3b29df8b2f3f25e0">More...</a><br/></td></tr>
<tr class="separator:afe7c6b40fbc3eebd3b29df8b2f3f25e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a600c593f73696f9da7b60bed24eccaf7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a600c593f73696f9da7b60bed24eccaf7">soStoreBlockInT</a> (void)</td></tr>
<tr class="memdesc:a600c593f73696f9da7b60bed24eccaf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the contents of the block of the table of inodes resident in internal storage to the storage device.  <a href="#a600c593f73696f9da7b60bed24eccaf7">More...</a><br/></td></tr>
<tr class="separator:a600c593f73696f9da7b60bed24eccaf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886f4ce2e38dcc4dcd4ffd8cef0ba1ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a886f4ce2e38dcc4dcd4ffd8cef0ba1ad">soConvertRefFCT</a> (uint32_t ind, uint32_t *p_nBlk, uint32_t *p_offset)</td></tr>
<tr class="memdesc:a886f4ce2e38dcc4dcd4ffd8cef0ba1ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the index number, which translates to an entry of the references to free data clusters table, into the logical number (the ordinal, starting at zero, of the succession blocks that the table of references to free data clusters comprises) and the offset of the block where it is stored.  <a href="#a886f4ce2e38dcc4dcd4ffd8cef0ba1ad">More...</a><br/></td></tr>
<tr class="separator:a886f4ce2e38dcc4dcd4ffd8cef0ba1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c545f3b178ebade6977223ebd9ba842"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a7c545f3b178ebade6977223ebd9ba842">soLoadBlockFCT</a> (uint32_t nBlk)</td></tr>
<tr class="memdesc:a7c545f3b178ebade6977223ebd9ba842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the contents of a specific block of the table of references to free data clusters into internal storage.  <a href="#a7c545f3b178ebade6977223ebd9ba842">More...</a><br/></td></tr>
<tr class="separator:a7c545f3b178ebade6977223ebd9ba842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5633df359f592eeb194f8379dae4a2f"><td class="memItemLeft" align="right" valign="top">uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#aa5633df359f592eeb194f8379dae4a2f">soGetBlockFCT</a> (void)</td></tr>
<tr class="memdesc:aa5633df359f592eeb194f8379dae4a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the contents of a specific block of the table of references to free data clusters.  <a href="#aa5633df359f592eeb194f8379dae4a2f">More...</a><br/></td></tr>
<tr class="separator:aa5633df359f592eeb194f8379dae4a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae17d7b7194445a2113993952b825fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a9ae17d7b7194445a2113993952b825fe">soStoreBlockFCT</a> (void)</td></tr>
<tr class="memdesc:a9ae17d7b7194445a2113993952b825fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the contents of the block of the table of references to free data clusters resident in internal storage to the storage device.  <a href="#a9ae17d7b7194445a2113993952b825fe">More...</a><br/></td></tr>
<tr class="separator:a9ae17d7b7194445a2113993952b825fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1cee32ba802868670ba3873bd95eca0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#ac1cee32ba802868670ba3873bd95eca0">soConvertBPIDC</a> (uint32_t p, uint32_t *p_clustInd, uint32_t *p_offset)</td></tr>
<tr class="memdesc:ac1cee32ba802868670ba3873bd95eca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a byte position in the data continuum (information content) of a file, into the index of the element of the list of direct references and the offset within it where it is stored.  <a href="#ac1cee32ba802868670ba3873bd95eca0">More...</a><br/></td></tr>
<tr class="separator:ac1cee32ba802868670ba3873bd95eca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0baa89e8f7f20c4574b3debdc0f98e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a0d0baa89e8f7f20c4574b3debdc0f98e">soLoadSngIndRefClust</a> (uint32_t nClust)</td></tr>
<tr class="memdesc:a0d0baa89e8f7f20c4574b3debdc0f98e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the contents of a specific cluster of the table of single indirect references to data clusters into internal storage.  <a href="#a0d0baa89e8f7f20c4574b3debdc0f98e">More...</a><br/></td></tr>
<tr class="separator:a0d0baa89e8f7f20c4574b3debdc0f98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade0582e6892c40008dc46846928f14ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sofs__datacluster_8h.html#aeb05c46a11f74e371c49e35a74a99360">SODataClust</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#ade0582e6892c40008dc46846928f14ae">soGetSngIndRefClust</a> (void)</td></tr>
<tr class="memdesc:ade0582e6892c40008dc46846928f14ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the contents of a specific cluster of the table of single indirect references to data clusters.  <a href="#ade0582e6892c40008dc46846928f14ae">More...</a><br/></td></tr>
<tr class="separator:ade0582e6892c40008dc46846928f14ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4489e8473bbfec034c3d039ebaf1ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#ade4489e8473bbfec034c3d039ebaf1ba">soStoreSngIndRefClust</a> (void)</td></tr>
<tr class="memdesc:ade4489e8473bbfec034c3d039ebaf1ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the contents of a specific cluster of the table of single indirect references to data clusters resident in internal storage to the storage device.  <a href="#ade4489e8473bbfec034c3d039ebaf1ba">More...</a><br/></td></tr>
<tr class="separator:ade4489e8473bbfec034c3d039ebaf1ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e41edda4f5aa62bf046fee968552a07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a5e41edda4f5aa62bf046fee968552a07">soLoadDirRefClust</a> (uint32_t nClust)</td></tr>
<tr class="memdesc:a5e41edda4f5aa62bf046fee968552a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the contents of a specific cluster of the table of direct references to data clusters into internal storage.  <a href="#a5e41edda4f5aa62bf046fee968552a07">More...</a><br/></td></tr>
<tr class="separator:a5e41edda4f5aa62bf046fee968552a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78cd894a4f361894013626e154baebb2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sofs__datacluster_8h.html#aeb05c46a11f74e371c49e35a74a99360">SODataClust</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#a78cd894a4f361894013626e154baebb2">soGetDirRefClust</a> (void)</td></tr>
<tr class="memdesc:a78cd894a4f361894013626e154baebb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the contents of a specific cluster of the table of direct references to data clusters.  <a href="#a78cd894a4f361894013626e154baebb2">More...</a><br/></td></tr>
<tr class="separator:a78cd894a4f361894013626e154baebb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece6bf6ef2a63dfd877d6f55dd4a193b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__basicoper_8h.html#aece6bf6ef2a63dfd877d6f55dd4a193b">soStoreDirRefClust</a> (void)</td></tr>
<tr class="memdesc:aece6bf6ef2a63dfd877d6f55dd4a193b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the contents of a specific cluster of the table of direct references to data clusters resident in internal storage to the storage device.  <a href="#aece6bf6ef2a63dfd877d6f55dd4a193b">More...</a><br/></td></tr>
<tr class="separator:aece6bf6ef2a63dfd877d6f55dd4a193b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Set of operations to manage the file system internal data structures. </p>
<p>(interface file)</p>
<p>The aim is to provide an unique storage location when the file system is in operation.</p>
<p>The operations are: </p>
<ul>
<li>load the contents of the superblock into internal storage </li>
<li>get a pointer to the contents of the superblock </li>
<li>store the contents of the superblock resident in internal storage to the storage device </li>
<li>convert the inode number, which translates to an entry of the inode table, into the logical number (the ordinal, starting at zero, of the succession blocks that the table of inodes comprises) and the offset of the block where it is stored </li>
<li>load the contents of a specific block of the table of inodes into internal storage </li>
<li>get a pointer to the contents of a specific block of the table of inodes </li>
<li>store the contents of the block of the table of inodes resident in internal storage to the storage device </li>
<li>convert the index number, which translates to an entry of the references to free data clusters table, into the logical number (the ordinal, starting at zero, of the succession blocks that the table of references to free data clusters comprises) and the offset of the block where it is stored </li>
<li>load the contents of a specific block of the table of references to free data clusters into internal storage </li>
<li>get a pointer to the contents of a specific block of the table of references to free data clusters </li>
<li>store the contents of the block of the table of references to free data clusters resident in internal storage to the storage device </li>
<li>convert a byte position in the data continuum (information content) of a file, into the index of the element of the list of direct references and the offset within it where it is stored </li>
<li>load the contents of a specific cluster of the table of single indirect references to data clusters into internal storage. </li>
<li>get a pointer to the contents of a specific cluster of the table of single indirect references to data clusters </li>
<li>store the contents of a specific cluster of the table of single indirect references to data clusters resident in internal storage to the storage device </li>
<li>load the contents of a specific cluster of the table of direct references to data clusters into internal storage </li>
<li>get a pointer to the contents of a specific cluster of the table of direct references to data clusters </li>
<li>store the contents of a specific cluster of the table of direct references to data clusters resident in internal storage to the storage device.</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>António Rui Borges - August 2010 - August 2011</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>In case an error occurs, all functions return a negative value which is the symmetric of the system error that better represents the error cause. (execute command <em>man errno</em> to get the list of system errors) </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac1cee32ba802868670ba3873bd95eca0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soConvertBPIDC </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_clustInd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a byte position in the data continuum (information content) of a file, into the index of the element of the list of direct references and the offset within it where it is stored. </p>
<p>The byte position is defined as: </p>
<pre class="fragment">              p = clustInd * BSLPC + offset
</pre><p>where <em>clustInd</em> stands for the index of the element of the list of direct references and <em>offset</em> for the byte position within it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>byte position in the data continuum </td></tr>
    <tr><td class="paramname">p_clustInd</td><td>pointer to the location where the index to the list of direct references is to be stored </td></tr>
    <tr><td class="paramname">p_offset</td><td>pointer to the location where the offset is to be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if byte position is out of range or any of the pointers is <code>NULL</code> </dd></dl>

</div>
</div>
<a class="anchor" id="a886f4ce2e38dcc4dcd4ffd8cef0ba1ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soConvertRefFCT </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_nBlk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the index number, which translates to an entry of the references to free data clusters table, into the logical number (the ordinal, starting at zero, of the succession blocks that the table of references to free data clusters comprises) and the offset of the block where it is stored. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ind</td><td>index to the table of references to free data clusters </td></tr>
    <tr><td class="paramname">p_nBlk</td><td>pointer to the location where the logical block number is to be stored </td></tr>
    <tr><td class="paramname">p_offset</td><td>pointer to the location where the offset is to be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if index is out of range or any of the pointers is <code>NULL</code> </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="abce723e8bbbdf5c3c0216765506cb3a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soConvertRefInT </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nInode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_nBlk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the inode number, which translates to an entry of the inode table, into the logical number (the ordinal, starting at zero, of the succession blocks that the table of inodes comprises) and the offset of the block where it is stored. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nInode</td><td>inode number </td></tr>
    <tr><td class="paramname">p_nBlk</td><td>pointer to the location where the logical block number is to be stored </td></tr>
    <tr><td class="paramname">p_offset</td><td>pointer to the location where the offset is to be stored</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if inode number is out of range or any of the pointers is <code>NULL</code> </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="aa5633df359f592eeb194f8379dae4a2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t* soGetBlockFCT </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the contents of a specific block of the table of references to free data clusters. </p>
<p>Any type of previous / current error on loading / storing the data block will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the specific block , on success </dd>
<dd>
-<code>NULL</code>, if no data block was previously loaded or an error on a previous load / store operation has occurred </dd></dl>

</div>
</div>
<a class="anchor" id="afe7c6b40fbc3eebd3b29df8b2f3f25e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sofs__inode_8h.html#ac75a291739fb635e97b7928ceb4fba6a">SOInode</a>* soGetBlockInT </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the contents of a specific block of the table of inodes. </p>
<p>Any type of previous / current error on loading / storing the data block will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the specific block , on success </dd>
<dd>
-<code>NULL</code>, if no data block was previously loaded or an error on a previous load / store operation has occurred </dd></dl>

</div>
</div>
<a class="anchor" id="a78cd894a4f361894013626e154baebb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sofs__datacluster_8h.html#aeb05c46a11f74e371c49e35a74a99360">SODataClust</a>* soGetDirRefClust </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the contents of a specific cluster of the table of direct references to data clusters. </p>
<p>Any type of previous / current error on loading / storing a direct references cluster will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the specific cluster , on success </dd>
<dd>
-<code>NULL</code>, if no cluster was previously loaded or an error on a previous load / store operation has occurred </dd></dl>

</div>
</div>
<a class="anchor" id="ade0582e6892c40008dc46846928f14ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sofs__datacluster_8h.html#aeb05c46a11f74e371c49e35a74a99360">SODataClust</a>* soGetSngIndRefClust </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the contents of a specific cluster of the table of single indirect references to data clusters. </p>
<p>Any type of previous / current error on loading / storing a single indirect references cluster will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the specific cluster , on success </dd>
<dd>
-<code>NULL</code>, if no cluster was previously loaded or an error on a previous load / store operation has occurred </dd></dl>

</div>
</div>
<a class="anchor" id="a7320bc9b9c9d04d6f4d85db6d4996cab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sofs__superblock_8h.html#ab3d7af66934f6eb4e2f28e2918b88133">SOSuperBlock</a>* soGetSuperBlock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the contents of the superblock. </p>
<p>Any type of previous error on loading / storing the superblock data will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the superblock , on success </dd>
<dd>
-<code>NULL</code>, if the superblock was not previously loaded or an error on a previous load / store operation has occurred </dd></dl>

</div>
</div>
<a class="anchor" id="a7c545f3b178ebade6977223ebd9ba842"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soLoadBlockFCT </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nBlk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the contents of a specific block of the table of references to free data clusters into internal storage. </p>
<p>Any type of previous / current error on loading / storing the data block will disable the operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nBlk</td><td>logical number of the block to be read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if logical block number is out of range </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="aed949877fd01cf5297fdded33491ae6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soLoadBlockInT </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nBlk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the contents of a specific block of the table of inodes into internal storage. </p>
<p>Any type of previous / current error on loading / storing the data block will disable the operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nBlk</td><td>logical number of the block to be read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if logical block number is out of range </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a5e41edda4f5aa62bf046fee968552a07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soLoadDirRefClust </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nClust</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the contents of a specific cluster of the table of direct references to data clusters into internal storage. </p>
<p>Any type of previous / current error on loading / storing a direct references cluster will disable the operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nClust</td><td>physical number of the cluster to be read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if physical cluster number is out of range </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a0d0baa89e8f7f20c4574b3debdc0f98e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soLoadSngIndRefClust </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nClust</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the contents of a specific cluster of the table of single indirect references to data clusters into internal storage. </p>
<p>Any type of previous / current error on loading / storing a single indirect references cluster will disable the operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nClust</td><td>physical number of the cluster to be read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EINVAL</code>, if physical cluster number is out of range </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock or a data block was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a7e613ec9f4d5b4801af7e6be904c1340"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soLoadSuperBlock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the contents of the superblock into internal storage. </p>
<p>Any type of previous error on loading / storing the superblock data will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on reading or writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock was not previously loaded on a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a9ae17d7b7194445a2113993952b825fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soStoreBlockFCT </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store the contents of the block of the table of references to free data clusters resident in internal storage to the storage device. </p>
<p>Any type of previous / current error on loading / storing the data block will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or no block of the table of inodes was previously loaded </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a600c593f73696f9da7b60bed24eccaf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soStoreBlockInT </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store the contents of the block of the table of inodes resident in internal storage to the storage device. </p>
<p>Any type of previous / current error on loading / storing the data block will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or no block of the table of inodes was previously loaded </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="aece6bf6ef2a63dfd877d6f55dd4a193b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soStoreDirRefClust </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store the contents of a specific cluster of the table of direct references to data clusters resident in internal storage to the storage device. </p>
<p>Any type of previous / current error on loading / storing a direct references cluster will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or no cluster of the table of direct references was previously loaded </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="ade4489e8473bbfec034c3d039ebaf1ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soStoreSngIndRefClust </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store the contents of a specific cluster of the table of single indirect references to data clusters resident in internal storage to the storage device. </p>
<p>Any type of previous / current error on loading / storing a single indirect references cluster will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or no cluster of the table of single indirect references was previously loaded </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
<a class="anchor" id="a044b2668a2f9e248e8fc862d7b0457fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soStoreSuperBlock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store the contents of the superblock resident in internal storage to the storage device. </p>
<p>Any type of previous / current error on loading / storing the superblock data will disable the operation.</p>
<dl class="section return"><dt>Returns</dt><dd><code>0 (zero)</code>, on success </dd>
<dd>
-<code>EBADF</code>, if the device is not already opened </dd>
<dd>
-<code>EIO</code>, if it fails on writing </dd>
<dd>
-<code>ELIBBAD</code>, if the buffercache is inconsistent or the superblock was not previously loaded on the current or a previous store operation </dd>
<dd>
-<em>other specific error</em> issued by <em>lseek</em> system call </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f68df188f887538d2ebe3f1167d956ea.html">sofs15</a></li><li class="navelem"><a class="el" href="sofs__basicoper_8h.html">sofs_basicoper.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
