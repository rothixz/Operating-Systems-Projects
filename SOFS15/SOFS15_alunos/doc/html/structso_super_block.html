<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>SOFS15: soSuperBlock Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SOFS15
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">FUSE based file system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structso_super_block.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">soSuperBlock Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Definition of the superblock data type.  
 <a href="structso_super_block.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="sofs__superblock_8h_source.html">sofs_superblock.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a57f54349f4fd1cbbb52058812e146af2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57f54349f4fd1cbbb52058812e146af2"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a57f54349f4fd1cbbb52058812e146af2">magic</a></td></tr>
<tr class="memdesc:a57f54349f4fd1cbbb52058812e146af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">magic number - file system identification number (should be MAGIC_NUMBER macro value) <br/></td></tr>
<tr class="separator:a57f54349f4fd1cbbb52058812e146af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd99bb05ca015e7d74448acb1deba7ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd99bb05ca015e7d74448acb1deba7ca"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#acd99bb05ca015e7d74448acb1deba7ca">version</a></td></tr>
<tr class="memdesc:acd99bb05ca015e7d74448acb1deba7ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">version number (should be VERSION_NUMBER macro value) <br/></td></tr>
<tr class="separator:acd99bb05ca015e7d74448acb1deba7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d71583e1e0a9f91be576703d7d0e554"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d71583e1e0a9f91be576703d7d0e554"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a1d71583e1e0a9f91be576703d7d0e554">name</a> [<a class="el" href="sofs__superblock_8h.html#a8ec7917ef708e5650356892410c1731d">PARTITION_NAME_SIZE</a>+1]</td></tr>
<tr class="memdesc:a1d71583e1e0a9f91be576703d7d0e554"><td class="mdescLeft">&#160;</td><td class="mdescRight">volume name <br/></td></tr>
<tr class="separator:a1d71583e1e0a9f91be576703d7d0e554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4465b044b838c0a1c1691c56021b66b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4465b044b838c0a1c1691c56021b66b8"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a4465b044b838c0a1c1691c56021b66b8">ntotal</a></td></tr>
<tr class="memdesc:a4465b044b838c0a1c1691c56021b66b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">total number of blocks in the device <br/></td></tr>
<tr class="separator:a4465b044b838c0a1c1691c56021b66b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676bfdb32438cabd2d9f2dca28434a54"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a676bfdb32438cabd2d9f2dca28434a54">mstat</a></td></tr>
<tr class="memdesc:a676bfdb32438cabd2d9f2dca28434a54"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag signaling if the file system was properly unmounted the last time it was mounted  <a href="#a676bfdb32438cabd2d9f2dca28434a54">More...</a><br/></td></tr>
<tr class="separator:a676bfdb32438cabd2d9f2dca28434a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade52c490e89e3c1e3a16a1398d573202"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade52c490e89e3c1e3a16a1398d573202"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#ade52c490e89e3c1e3a16a1398d573202">itable_start</a></td></tr>
<tr class="memdesc:ade52c490e89e3c1e3a16a1398d573202"><td class="mdescLeft">&#160;</td><td class="mdescRight">physical number of the block where the table of inodes starts <br/></td></tr>
<tr class="separator:ade52c490e89e3c1e3a16a1398d573202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d232f6258b1ec6d9ca282f0a79d2b04"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d232f6258b1ec6d9ca282f0a79d2b04"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a1d232f6258b1ec6d9ca282f0a79d2b04">itable_size</a></td></tr>
<tr class="memdesc:a1d232f6258b1ec6d9ca282f0a79d2b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of blocks that the table of inodes comprises <br/></td></tr>
<tr class="separator:a1d232f6258b1ec6d9ca282f0a79d2b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba3d4338802a6c1bf58962d3e16b3909"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba3d4338802a6c1bf58962d3e16b3909"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#aba3d4338802a6c1bf58962d3e16b3909">itotal</a></td></tr>
<tr class="memdesc:aba3d4338802a6c1bf58962d3e16b3909"><td class="mdescLeft">&#160;</td><td class="mdescRight">total number of inodes <br/></td></tr>
<tr class="separator:aba3d4338802a6c1bf58962d3e16b3909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b97da58c5a966ece645e142152de37"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72b97da58c5a966ece645e142152de37"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a72b97da58c5a966ece645e142152de37">ifree</a></td></tr>
<tr class="memdesc:a72b97da58c5a966ece645e142152de37"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of free inodes <br/></td></tr>
<tr class="separator:a72b97da58c5a966ece645e142152de37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a938339ea2a45dfa89d827c4ad199f830"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a938339ea2a45dfa89d827c4ad199f830"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a938339ea2a45dfa89d827c4ad199f830">ihdtl</a></td></tr>
<tr class="memdesc:a938339ea2a45dfa89d827c4ad199f830"><td class="mdescLeft">&#160;</td><td class="mdescRight">index of the array element that forms the head / tail of the double-linked list of free inodes (point of retrieval / insertion) <br/></td></tr>
<tr class="separator:a938339ea2a45dfa89d827c4ad199f830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bdfbac85d748ee37f0d7c6606fdd774"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0bdfbac85d748ee37f0d7c6606fdd774"></a>
struct <a class="el" href="structf_c_node.html">fCNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a0bdfbac85d748ee37f0d7c6606fdd774">dzone_retriev</a></td></tr>
<tr class="memdesc:a0bdfbac85d748ee37f0d7c6606fdd774"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieval cache of references (or logical numbers) to free data clusters <br/></td></tr>
<tr class="separator:a0bdfbac85d748ee37f0d7c6606fdd774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af04a6d7d692e6a150beda38652081018"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af04a6d7d692e6a150beda38652081018"></a>
struct <a class="el" href="structf_c_node.html">fCNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#af04a6d7d692e6a150beda38652081018">dzone_insert</a></td></tr>
<tr class="memdesc:af04a6d7d692e6a150beda38652081018"><td class="mdescLeft">&#160;</td><td class="mdescRight">insertion cache of references (or logical numbers) to free data clusters <br/></td></tr>
<tr class="separator:af04a6d7d692e6a150beda38652081018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a958942c763f48c0f5a6e8546d8476970"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a958942c763f48c0f5a6e8546d8476970"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a958942c763f48c0f5a6e8546d8476970">tbfreeclust_start</a></td></tr>
<tr class="memdesc:a958942c763f48c0f5a6e8546d8476970"><td class="mdescLeft">&#160;</td><td class="mdescRight">physical number of the block where the table of references to free data clusters starts <br/></td></tr>
<tr class="separator:a958942c763f48c0f5a6e8546d8476970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7754b66306489e51bf6ef3c96e011824"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7754b66306489e51bf6ef3c96e011824"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a7754b66306489e51bf6ef3c96e011824">tbfreeclust_size</a></td></tr>
<tr class="memdesc:a7754b66306489e51bf6ef3c96e011824"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of blocks that the table of references to free data clusters comprises <br/></td></tr>
<tr class="separator:a7754b66306489e51bf6ef3c96e011824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02df1829f3e3df345373dd2bc725f817"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02df1829f3e3df345373dd2bc725f817"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a02df1829f3e3df345373dd2bc725f817">tbfreeclust_head</a></td></tr>
<tr class="memdesc:a02df1829f3e3df345373dd2bc725f817"><td class="mdescLeft">&#160;</td><td class="mdescRight">index of the array element that forms the head of the table of references to free data clusters (point of retrieval) <br/></td></tr>
<tr class="separator:a02df1829f3e3df345373dd2bc725f817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9051a9281069320ce38a81dd42bd66"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed9051a9281069320ce38a81dd42bd66"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#aed9051a9281069320ce38a81dd42bd66">tbfreeclust_tail</a></td></tr>
<tr class="memdesc:aed9051a9281069320ce38a81dd42bd66"><td class="mdescLeft">&#160;</td><td class="mdescRight">index of the array element that forms the tail of the table of references to free data clusters (point of insertion) <br/></td></tr>
<tr class="separator:aed9051a9281069320ce38a81dd42bd66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7098af80da9eab830dd64910095a3aa8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7098af80da9eab830dd64910095a3aa8"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a7098af80da9eab830dd64910095a3aa8">dzone_start</a></td></tr>
<tr class="memdesc:a7098af80da9eab830dd64910095a3aa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">physical number of the block where the data zone starts (physical number of the first data cluster) <br/></td></tr>
<tr class="separator:a7098af80da9eab830dd64910095a3aa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86cb58bea2c265833de31dcbac0ee748"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86cb58bea2c265833de31dcbac0ee748"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a86cb58bea2c265833de31dcbac0ee748">dzone_total</a></td></tr>
<tr class="memdesc:a86cb58bea2c265833de31dcbac0ee748"><td class="mdescLeft">&#160;</td><td class="mdescRight">total number of data clusters <br/></td></tr>
<tr class="separator:a86cb58bea2c265833de31dcbac0ee748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6653929e031b0294ae343172a51fb786"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6653929e031b0294ae343172a51fb786"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a6653929e031b0294ae343172a51fb786">dzone_free</a></td></tr>
<tr class="memdesc:a6653929e031b0294ae343172a51fb786"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of free data clusters <br/></td></tr>
<tr class="separator:a6653929e031b0294ae343172a51fb786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f603686e6c3b2e0bd867c30eeb0a3f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f603686e6c3b2e0bd867c30eeb0a3f7"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html#a9f603686e6c3b2e0bd867c30eeb0a3f7">reserved</a> [<a class="el" href="sofs__const_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>-<a class="el" href="sofs__superblock_8h.html#a8ec7917ef708e5650356892410c1731d">PARTITION_NAME_SIZE</a>-1-16 *sizeof(uint32_t)-2 *sizeof(struct <a class="el" href="structf_c_node.html">fCNode</a>)]</td></tr>
<tr class="memdesc:a9f603686e6c3b2e0bd867c30eeb0a3f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">reserved area <br/></td></tr>
<tr class="separator:a9f603686e6c3b2e0bd867c30eeb0a3f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Definition of the superblock data type. </p>
<p>It contains global information about the file system layout, namely the size and the location of the remaining parts.</p>
<p>It is divided in: </p>
<ul>
<li><em>header</em> - that contains data about the type, the version, the name, the size in number of physical blocks and the consistency status </li>
<li><em>inode table metadata</em> - concerning its location, size in number of blocks, total number of inodes and number of free inodes; the inode table is primarily conceived as an array of inodes, however, the free inodes form a double-linked circular list whose insertion / retrieval point is also provided (dynamic circular FIFO that links together, using the inodes themselves as nodes, all the free inodes) </li>
<li><em>data zone metadata</em> - concerning its location, size in total number of data clusters, number of free data clusters and its three main reference components: the insertion and retrieval caches for a fast temporary storage of references (static structures resident within the superblock itself) and the location and size in number of blocks of the table of references to free data clusters, organized as a static linear FIFO that links together all the free data clusters whose references are not in the caches - the insertion and retrieval points are also provided. </li>
</ul>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a676bfdb32438cabd2d9f2dca28434a54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mstat</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>flag signaling if the file system was properly unmounted the last time it was mounted </p>
<ul>
<li>PRU - if properly unmounted </li>
<li>NPRU - if not properly unmounted </li>
</ul>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="sofs__superblock_8h_source.html">sofs_superblock.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structso_super_block.html">soSuperBlock</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
